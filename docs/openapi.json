{
  "swagger": "2.0",
  "info": {
    "title": "Risk-i Api",
    "description": "An API for risk analyses for projects in tuhat system. The risk analysis object depends of the answers given by the user. The fields not included the risk analysis are filtered away.",
    "version": "1.0.0",
    "license": {
      "name": "MIT",
      "url": "https://mit-license.org/"
    },
    "contact": {
      "name": "Toska",
      "email": "grp-toska@helsinki.fi"
    }
  },
  "host": "",
  "basePath": "/riskiapi",
  "tags": [
    {
      "name": "projects",
      "description": "Risk analysis for projects in tuhat system."
    }
  ],
  "schemes": ["https", "http"],
  "produces": ["application/json"],
  "paths": {
    "/projects": {
      "get": {
        "description": "Returns a list of risk analyses.",
        "produces": ["application/json"],
        "responses": {
          "200": {
            "description": "A list of risk analyes",
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/Project"
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "security": [
          {
            "api_key": []
          }
        ]
      }
    },
    "/projects/{projectUuid}": {
      "get": {
        "summary": "Get a product by project uuid",
        "description": "Returns a project based on the provided uuid.",
        "operationId": "getProjectByUuid",
        "produces": ["application/json"],
        "parameters": [
          {
            "name": "projectUuid",
            "in": "path",
            "description": "The uuid of the wanted project.",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "A risk analysis for a specific tuhat uuid.",
            "schema": {
              "$ref": "#/definitions/Project"
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Project not found"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "security": [
          {
            "api_key": []
          }
        ]
      }
    }
  },
  "securityDefinitions": {
    "api_key": {
      "type": "apiKey",
      "name": "api_key",
      "in": "header"
    }
  },
  "definitions": {
    "ApiResponse": {
      "type": "object",
      "properties": {
        "code": {
          "type": "integer",
          "format": "int32"
        },
        "type": {
          "type": "string"
        },
        "message": {
          "type": "string"
        }
      }
    },
    "RiskObject": {
      "type": "object",
      "properties": {
        "title": {
          "type": "string"
        },
        "level": {
          "type": "integer",
          "format": "int32"
        },
        "infoText": {
          "type": "string"
        }
      }
    },
    "CountryObject": {
      "type": "object",
      "properties": {
        "code": {
          "type": "string"
        },
        "name": {
          "type": "string"
        },
        "countryRisk": {
          "type": "object",
          "properties": {
            "title": {
              "type": "string"
            },
            "riskValues": {
              "type": "array",
              "items": {
                "type": "integer",
                "format": "int32"
              }
            },
            "totalCountryRiskLevel": {
              "type": "integer",
              "format": "int32"
            },
            "rawTotalCountryRiskLevel": {
              "type": "number",
              "format": "float"
            },
            "infoText": {
              "type": "string"
            }
          }
        },
        "corruption": {
          "$ref": "#/definitions/RiskObject"
        },
        "safetyLevel": {
          "$ref": "#/definitions/RiskObject"
        },
        "academicFreedom": {
          "$ref": "#/definitions/RiskObject"
        },
        "stability": {
          "$ref": "#/definitions/RiskObject"
        },
        "humanDevelopment": {
          "$ref": "#/definitions/RiskObject"
        },
        "gdpr": {
          "$ref": "#/definitions/RiskObject"
        },
        "sanctions": {
          "$ref": "#/definitions/RiskObject"
        },
        "ruleOfLaw": {
          "$ref": "#/definitions/RiskObject"
        }
      }
    },
    "CountriesArray": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/CountryObject"
      }
    },
    "Countries": {
      "type": "object",
      "properties": {
        "totalCountriesData": {
          "$ref": "#/definitions/CountriesArray"
        },
        "multilateralCountriesData": {
          "$ref": "#/definitions/CountriesArray"
        }
      }
    },
    "RiskAnalysis": {
      "type": "object",
      "properties": {
        "totalRisk": {
          "$ref": "#/definitions/RiskObject"
        },
        "countryTotal": {
          "type": "object",
          "properties": {
            "title": {
              "type": "string"
            },
            "level": {
              "type": "integer",
              "format": "int32"
            },
            "infoText": {
              "type": "string"
            },
            "countries": {
              "$ref": "#/definitions/Countries"
            }
          }
        },
        "university": {
          "$ref": "#/definitions/RiskObject"
        },
        "organisation": {
          "$ref": "#/definitions/RiskObject"
        },
        "duration": {
          "$ref": "#/definitions/RiskObject"
        },
        "economic": {
          "type": "object",
          "properties": {
            "title": {
              "type": "string"
            },
            "level": {
              "type": "integer",
              "format": "int32"
            },
            "infoText": {
              "type": "string"
            },
            "economicExchange": {
              "$ref": "#/definitions/RiskObject"
            },
            "economicScope": {
              "$ref": "#/definitions/RiskObject"
            }
          }
        },
        "dualUse": {
          "$ref": "#/definitions/RiskObject"
        },
        "ethical": {
          "$ref": "#/definitions/RiskObject"
        },
        "consortium": {
          "$ref": "#/definitions/RiskObject"
        }
      }
    },
    "Project": {
      "type": "object",
      "properties": {
        "tuhatId": {
          "type": "string"
        },
        "riskAnalysis": {
          "$ref": "#/definitions/RiskAnalysis"
        },
        "createdAt": {
          "type": "string",
          "format": "dateTime"
        },
        "updatedAt": {
          "type": "string",
          "format": "dateTime"
        }
      }
    }
  }
}
